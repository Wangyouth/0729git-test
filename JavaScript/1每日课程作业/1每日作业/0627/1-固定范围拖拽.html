<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>固定范围内的拖拽</title>
		<style type="text/css">
			.box{position: relative;
				width: 500px;
				height: 500px;
				background-color: #999999;
				margin: 20px 20px;
			}
			.son {
				position: absolute;
				top: 0;
				left: 0;
				width: 50px;
				height: 50px;
				background-color: #000000;
			}
		</style>
	</head>
	<body>
		<div class="box">
			<div class="son"></div>
		</div>
		<script type="text/javascript">
			window.addEventListener('load',function(){
				var box=document.querySelector('.box');
				var son=document.querySelector('.son');
				
				box.addEventListener('mousemove',function(e){
					var sonX=e.clientX-box.offsetLeft;
					var sonY=e.clientY-box.offsetTop;
					
					if(sonX>=box.offsetWidth-son.offsetWidth){
						sonX=box.offsetWidth-son.offsetWidth;
					}
					son.style.left=sonX+'px';
					
					if(sonY>=box.offsetHeight-son.offsetHeight){
						sonY=box.offsetHeight-son.offsetHeight;
					}
					son.style.top=sonY+'px';
				} );
				
			} );
		</script>
	</body>
</html>
