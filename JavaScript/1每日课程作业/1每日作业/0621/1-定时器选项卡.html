<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>定时器选项卡</title>
		<style type="text/css">
			p {
				margin: 0;
			}

			.box span {
				display: inline-block;
				border: 1px solid #000000;
				width: 60px;
				margin-bottom: 2px;
				text-align: center;
			}

			.content {
				width: 260px;
				height: 100px;
				border: 1px solid #000000;
			}
		</style>
	</head>
	<body>
		<div class="box">
			<span>1</span>
			<span>2</span>
			<span>3</span>
			<span>4</span>
		</div>
		<div class="content">
			<p>1111111111111</p>
			<p>2222222222222</p>
			<p>3333333333333</p>
			<p>4444444444444</p>
		</div>
		<script type="text/javascript">
			var box = document.querySelector('.box');
			var spans = box.querySelectorAll('span');
			var content = document.querySelector('.content');
			var ps = content.querySelectorAll('p');
			var num = 0;

			//清除span的颜色
			function clearspancolor() {
				for (var i = 0; i < spans.length; i++) {
					spans[i].style.backgroundColor = '';
				}
			}
			//清除p的文本
			function clearps() {
				for (var i = 0; i < ps.length; i++) {
					ps[i].style.display = 'none';
				}
			}
			
			for (var i = 0; i < spans.length; i++) {
				spans[i].setAttribute('index', i);
				spans[i].addEventListener('mouseenter', function() {
					clearInterval(timer);
					clearspancolor();
					clearps();
					this.style.backgroundColor = '#0099CC';
					var index = this.getAttribute('index');
					num = index;
					ps[num].style.display = 'block';
				});

				spans[i].addEventListener('mouseleave', function() {
					timer = setInterval(function() {
						clearspancolor();
						spans[num].style.backgroundColor = '#0099CC';
						clearps();
						ps[num].style.display = 'block';
						num++;
						if (num == spans.length) {
							num = 0;
						}
					}, 1000);
				});
			}


			var timer = setInterval(function() {
				clearspancolor();
				spans[num].style.backgroundColor = '#0099CC';
				clearps();
				ps[num].style.display = 'block';
				num++;
				if (num == spans.length) {
					num = 0;
				}
			}, 1000);
		</script>

	</body>
</html>
