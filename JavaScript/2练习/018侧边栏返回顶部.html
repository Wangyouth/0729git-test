<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>侧边栏返回顶部</title>
		<style type="text/css">
			@font-face {
				font-family: 'icomoon';
				src: url('fonts/icomoon.eot?mzyg4v');
				src: url('fonts/icomoon.eot?mzyg4v#iefix') format('embedded-opentype'),
					url('fonts/icomoon.ttf?mzyg4v') format('truetype'),
					url('fonts/icomoon.woff?mzyg4v') format('woff'),
					url('fonts/icomoon.svg?mzyg4v#icomoon') format('svg');
				font-weight: normal;
				font-style: normal;
				font-display: block;
			}

			.w {
				width: 1000px;
				margin: 0 auto;
			}

			a {
				color: #000000;
				text-decoration: none;
			}

			.header {
				height: 150px;
				background-color: #0000FF;
			}

			.list {
				height: 400px;
				margin-top: 10px;
				background-color: #333333;
			}

			.box {
				position: absolute;
				top: 300px;
				right: 55px;
				width: 50px;
				height: 200px;
				background-color: #999999;
			}

			.box span {
				/* display: none; */
				position: absolute;
				top: 210px;
				right: 0;
				background-color: #6495ED;
				border-radius: 5px;
				text-align: center;
				font-family: 'icomoon';
			}

			.box::after {
				content: "\ea32";
				font-family: 'icomoon';
			}

			.nav {
				height: 400px;
				margin-top: 10px;
				background-color: #008000;
			}

			.floot {
				height: 400px;
				margin-top: 10px;
				background-color: #6495ED;
			}
		</style>
	</head>
	<body>
		<div class="box">box<span><a href="#header"><br>回顶部</a></span></div>
		<div class="w header" id="header">header</div>
		<div class="w list ">list</div>
		<div class="w nav">nav</div>
		<div class="w floot">floot</div>

		<script type="text/javascript">
			var box = document.querySelector('.box');
			var list = document.querySelector('.list');
			var nav = document.querySelector('.nav');
			var bspan = document.querySelector('span');

			var listtop = list.offsetTop;
			var boxtop = box.offsetTop - listtop;
			var navtop = nav.offsetTop;
			document.addEventListener('scroll', function() {
				if (window.pageYOffset >= listtop) {
					box.style.position = 'fixed';
					box.style.top = boxtop + 'px';
				} else {
					box.style.position = 'absolute';
					box.style.top = '300px';
				}

				if (window.pageYOffset >= navtop) {
					bspan.style.display = 'block';
				} else {
					bspan.style.display = 'none';
				}

			});
		</script>
	</body>
</html>
